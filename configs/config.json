{
  "comment": "Multi-Agent RAG System Configuration - Copy this file to config.json and modify the values as needed",
  "text_agent_url": "http://localhost:8002",
  "video_agent_url": "http://localhost:8001",
  "composing_agent_port": 8000,
  "search_backend": "vespa",
  "elastic_cloud_id": "your_elastic_cloud_id",
  "elastic_api_key": "your_elastic_api_key",
  "elastic_index": "your-text-index",
  "vespa_url": "http://localhost",
  "vespa_port": 8080,
  "vespa_schema": "video_frame",
  "byaldi_index_name": ".byaldi/my_video_index",
  "vlm_endpoint_url": "https://amit-jain--cogniverse-vlm-vlmmodel-generate-description.modal.run/",
  "auto_start_vlm_service": true,
  "colpali_model": "vidore/colsmol-500m",
  "embedding_model": "all-MiniLM-L6-v2",
  "local_llm_model": "deepseek-r1:7b",
  "base_url": "http://localhost:11434",
  "query_inference_engine": {
    "mode": "llm",
    "available_gliner_models": [
      "urchade/gliner_small-v2.1",
      "urchade/gliner_medium-v2.1",
      "urchade/gliner_large-v2.1",
      "urchade/gliner_multi-v2.1"
    ],
    "current_gliner_model": "urchade/gliner_large-v2.1",
    "enable_llm_fallback": false,
    "gliner_labels": [
      "video_content",
      "visual_content",
      "document_content",
      "text_information",
      "time_reference",
      "date_pattern",
      "search_intent"
    ],
    "gliner_threshold": 0.3,
    "optimization_results": {
      "strategy": "focused",
      "accuracy": 0.9333,
      "optimized_on": "2025-01-03",
      "configurations_tested": 608,
      "best_runtime": "49.4s"
    }
  },
  "pipeline_config": {
    "extract_keyframes": true,
    "transcribe_audio": true,
    "generate_descriptions": true,
    "generate_embeddings": true
  },
  "device": "mps",
  "max_workers": 4,
  "timeout": 60.0,
  "log_level": "INFO",
  "log_file": "multi_agent_system.log",
  "output_base_dir": "outputs",
  "video_data_dir": "data/videos",
  "text_data_dir": "data/text",
  "index_dir": "data/indexes",
  "inference": {
    "provider": "modal",
    "local_endpoint": "http://localhost:11434",
    "model": "HuggingFaceTB/SmolLM3-3B",
    "modal_endpoint": "https://amit-jain--general-inference-service-serve.modal.run",
    "timeout": 30,
    "retry_count": 3,
    "retry_delay": 1.0,
    "prompts": {
      "artifacts_path": null,
      "default_system_prompt": "You are a precise and efficient routing agent. Analyze the query and output a JSON object with 'search_modality' (video or text) and 'generation_type' (detailed_report, summary, or raw_results)."
    },
    "model_config": {
      "temperature": 0.1,
      "max_tokens": 100,
      "model": "deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B"
    }
  },
  "optimization": {
    "enabled": true,
    "type": "dspy",
    "teacher": {
      "model": "claude-3-5-sonnet-20241022",
      "provider": "anthropic"
    },
    "student": {
      "model": "HuggingFaceTB/SmolLM3-3B",
      "provider": "modal"
    },
    "providers": {
      "modal": {
        "gpu_config": "A10G",
        "memory_mb": 16000,
        "timeout_seconds": 3600
      },
      "local": {
        "base_url": "http://localhost:11434",
        "timeout": 30
      },
      "anthropic": {
        "api_key_env": "ANTHROPIC_API_KEY"
      },
      "openai": {
        "api_key_env": "OPENAI_API_KEY"
      }
    },
    "settings": {
      "num_examples": 50,
      "num_candidates": 10,
      "num_trials": 20
    },
    "output": {
      "dir": "optimization_results"
    },
    "artifact_storage": {
      "type": "modal",
      "modal": {
        "volume_name": "optimization-artifacts",
        "remote_path": "/artifacts/unified_router_prompt_artifact.json"
      },
      "local": {
        "base_path": "./optimization_results"
      }
    }
  }
}