# Cogniverse Environment Configuration - Development
# Copy this file to .env and customize for your local environment

# ========================================
# Application Configuration
# ========================================

# Application version
VERSION=latest

# Default tenant ID
DEFAULT_TENANT_ID=default

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Python environment
PYTHONUNBUFFERED=1

# ========================================
# Vespa Configuration
# ========================================

# Vespa URLs and ports
VESPA_URL=http://localhost:8080
VESPA_HOST=localhost
VESPA_PORT=8080
VESPA_CONFIG_PORT=19071
VESPA_METRICS_PORT=19092

# Vespa memory settings (for docker-compose)
VESPA_MEMORY_OPTIONS=-Xms2g -Xmx8g

# ========================================
# Phoenix Configuration
# ========================================

# Phoenix URLs and ports
PHOENIX_URL=http://localhost:6006
PHOENIX_ENDPOINT=http://localhost:6006
PHOENIX_HOST=0.0.0.0
PHOENIX_PORT=6006

# Phoenix working directory
PHOENIX_WORKING_DIR=/phoenix-data

# Phoenix project settings
PHOENIX_PROJECT_NAME=default_project
PHOENIX_ENABLED=true

# ========================================
# Ollama Configuration
# ========================================

# Ollama URLs and ports
OLLAMA_URL=http://localhost:11434
OLLAMA_ENDPOINT=http://localhost:11434
OLLAMA_HOST=0.0.0.0
OLLAMA_PORT=11434

# Ollama performance settings
OLLAMA_NUM_PARALLEL=2
OLLAMA_MAX_LOADED_MODELS=1
OLLAMA_ORIGINS=http://localhost:8000,http://runtime:8000

# Default LLM model for routing
LLM_MODEL=llama2:7b
LLM_TEMPERATURE=0.0

# ========================================
# Runtime API Configuration
# ========================================

# Runtime server settings
RUNTIME_HOST=0.0.0.0
RUNTIME_PORT=8000
RUNTIME_URL=http://localhost:8000

# Runtime workers (Uvicorn)
RUNTIME_WORKERS=2

# API rate limiting
RATE_LIMIT_PER_MINUTE=60

# ========================================
# Dashboard Configuration
# ========================================

# Streamlit server settings
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_ENABLE_CORS=true
STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=false

# Dashboard URL
DASHBOARD_URL=http://localhost:8501

# ========================================
# OpenTelemetry Configuration
# ========================================

# OTEL Collector URLs
OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc

# OTEL service name
OTEL_SERVICE_NAME=cogniverse-runtime

# OTEL tracing
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=none
OTEL_LOGS_EXPORTER=none

# ========================================
# Mem0 Configuration
# ========================================

# Mem0 API settings
MEM0_API_KEY=your_mem0_api_key_here
MEM0_PROJECT_ID=default_project

# Memory settings
MEMORY_ENABLED=true
MEMORY_BACKEND=mem0

# ========================================
# Model Configuration
# ========================================

# ColPali model
COLPALI_MODEL_NAME=vidore/colsmol-500m
COLPALI_DEVICE=cuda
COLPALI_CACHE_DIR=/root/.cache/huggingface

# VideoPrism model
VIDEOPRISM_MODEL_NAME=google/videoprism-base
VIDEOPRISM_DEVICE=cuda
VIDEOPRISM_CACHE_DIR=/root/.cache/huggingface

# ColQwen model
COLQWEN_MODEL_NAME=colqwen/colqwen2-omni
COLQWEN_DEVICE=cuda
COLQWEN_CACHE_DIR=/root/.cache/huggingface

# ========================================
# Ingestion Configuration
# ========================================

# Video processing
MAX_FRAMES_PER_VIDEO=100
FRAME_EXTRACTION_FPS=1
VIDEO_CHUNK_DURATION=30

# Batch processing
INGESTION_BATCH_SIZE=10
INGESTION_MAX_WORKERS=2

# ========================================
# Search Configuration
# ========================================

# Default search settings
DEFAULT_SEARCH_LIMIT=10
DEFAULT_RANKING_STRATEGY=hybrid_float_bm25
DEFAULT_RERANK_STRATEGY=colbert_maxsim

# ========================================
# Routing Configuration
# ========================================

# Routing strategy
ROUTING_STRATEGY=gliner_based
ROUTING_OPTIMIZER=GEPA

# Routing model settings
GLINER_MODEL=urchade/gliner_multi-v2.1
ROUTING_CONFIDENCE_THRESHOLD=0.5

# ========================================
# Cache Configuration
# ========================================

# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ========================================
# Security Configuration
# ========================================

# API keys (development only - use secrets in production)
API_KEY=dev_api_key_change_in_production

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8501
CORS_CREDENTIALS=true

# JWT settings (if using JWT authentication)
JWT_SECRET_KEY=dev_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# ========================================
# Data Directories
# ========================================

# Data paths
DATA_DIR=/data
VIDEO_DIR=/data/videos
OUTPUTS_DIR=/app/outputs
LOGS_DIR=/logs

# ========================================
# Feature Flags
# ========================================

# Enable/disable features
ENABLE_TELEMETRY=true
ENABLE_CACHING=true
ENABLE_MEMORY=true
ENABLE_EXPERIMENTS=true

# ========================================
# Development Settings
# ========================================

# Debug mode
DEBUG=false

# Auto-reload (for development)
RELOAD=false

# Profiling
ENABLE_PROFILING=false

# ========================================
# JAX Configuration
# ========================================

# JAX platform (cpu or gpu)
JAX_PLATFORM_NAME=cpu

# ========================================
# GPU Configuration
# ========================================

# CUDA settings
CUDA_VISIBLE_DEVICES=0

# GPU memory settings
GPU_MEMORY_FRACTION=0.8
